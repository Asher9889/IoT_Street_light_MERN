## üìä IoT System Development Plan (ESP32 + MQTT + Node.js + MongoDB)
| üî¢ Step | üß† Task                       | üîß Action / Description                                                                                                                                                                    | üß± Tools / Technologies         |
| ------- | ----------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | ------------------------------- |
| 1Ô∏è‚É£     | **Device ID Strategy**        | Manually define a unique `deviceId` like `device001`                                                                                                                                       | Manual naming convention        |
| 2Ô∏è‚É£     | **Device Registration Panel** | Create a simple web UI to register devices (store `deviceId`, relay count, etc.)                                                                                                           | React / HTML + REST API         |
| 3Ô∏è‚É£     | **MongoDB Schema Setup**      | Create `devices` collection with schema:<br>`{deviceId, name, relayCount, status, lastSeen}`                                                                                               | MongoDB + Mongoose              |
| 4Ô∏è‚É£     | **Backend API Setup**         | REST API to:<br>‚úÖ Register device<br>‚úÖ Get device status<br>‚úÖ Update command<br>‚úÖ History (optional)                                                                                       | Node.js + Express + Mongoose    |
| 5Ô∏è‚É£     | **Setup MQTT Broker**         | Install and configure **Mosquitto** broker on your server                                                                                                                                  | Mosquitto                       |
| 6Ô∏è‚É£     | **Integrate MQTT in Node.js** | Use `mqtt` npm package to:<br>üì§ Publish to `iot/devices/<deviceId>/cmd`<br>üì• Subscribe to `iot/devices/<deviceId>/status`                                                                | MQTT + Node.js                  |
| 7Ô∏è‚É£     | **ESP32 MQTT Firmware**       | Flash code to ESP32:<br>‚úÖ Read `deviceId` from flash or hardcoded<br>‚úÖ Connect to GPRS<br>‚úÖ Connect to MQTT<br>‚úÖ Subscribe to `iot/devices/<deviceId>/cmd`<br>‚úÖ Control relays accordingly | C++ with TinyGSM + PubSubClient |
| 8Ô∏è‚É£     | **Bi-Directional Messaging**  | ESP32 publishes relay status to:<br>üì° `iot/devices/<deviceId>/status`<br>Backend parses and stores in DB                                                                                  | MQTT Publish from ESP32         |
| 9Ô∏è‚É£     | **Web Dashboard**             | UI shows:<br>‚úÖ List of devices<br>‚úÖ Toggle relays<br>‚úÖ View status<br>‚úÖ Add/remove devices                                                                                                 | ReactJS + REST + MQTT           |
| üîü      | **Security Measures**         | - Secure MQTT (username/password)<br>- Auth for REST API<br>- Device auth (optional)                                                                                                       | TLS, JWT, API keys              |
| üîÅ      | **Scale to 100+ Devices**     | Devices follow same topic pattern, UI/dashboard lists & controls each individually                                                                                                         | MQTT topic hierarchy            |
| üß™      | **Test System End-to-End**    | 1. Register device<br>2. Flash ESP32<br>3. Toggle from dashboard<br>4. See relay respond                                                                                                   | Localhost/dev to Live           |
